{"version":3,"file":"FunctionBrowser-e2sP2WzG.js","sources":["../../../frontend/src/components/results/FunctionBrowser.tsx"],"sourcesContent":["import Editor from '@monaco-editor/react'\nimport { useFunctionDefinition } from '../../api/queries'\nimport { useThemeStore } from '../../stores/theme'\n\nexport function FunctionBrowser({ functionName }: { functionName: string }) {\n  const { data, isLoading, error } = useFunctionDefinition(functionName)\n  const theme = useThemeStore((s) => s.theme)\n\n  if (isLoading) {\n    return <div className=\"p-4 text-sm text-gray-400\">Loading...</div>\n  }\n\n  if (error || !data) {\n    return (\n      <div className=\"p-4 text-sm text-danger\">\n        {error?.message || 'Function not found'}\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"flex h-full flex-col overflow-hidden\">\n      {/* Info bar */}\n      <div className=\"flex flex-shrink-0 items-center gap-3 border-b border-surface-200 bg-surface-50 px-3 py-1.5 dark:border-surface-800 dark:bg-surface-900\">\n        <span className=\"text-xs font-medium text-gray-700 dark:text-gray-300\">\n          {data.schema}.{data.name}\n        </span>\n        <span className=\"rounded bg-surface-200 px-1.5 py-0.5 text-[10px] font-medium text-gray-600 dark:bg-surface-700 dark:text-gray-400\">\n          {data.kind}\n        </span>\n        <span className=\"rounded bg-surface-200 px-1.5 py-0.5 text-[10px] font-medium text-gray-600 dark:bg-surface-700 dark:text-gray-400\">\n          {data.language}\n        </span>\n        <span className=\"rounded bg-surface-200 px-1.5 py-0.5 text-[10px] font-medium text-gray-600 dark:bg-surface-700 dark:text-gray-400\">\n          {data.volatility}\n        </span>\n        {data.return_type && (\n          <span className=\"text-xs text-gray-500 dark:text-gray-400\">\n            returns {data.return_type}\n          </span>\n        )}\n      </div>\n\n      {/* Source code */}\n      <div className=\"min-h-0 flex-1\">\n        <Editor\n          language=\"pgsql\"\n          value={data.definition}\n          theme={theme === 'dark' ? 'vs-dark' : 'light'}\n          options={{\n            readOnly: true,\n            minimap: { enabled: false },\n            lineNumbers: 'on',\n            scrollBeyondLastLine: false,\n            fontSize: 13,\n            padding: { top: 8 },\n          }}\n        />\n      </div>\n    </div>\n  )\n}\n"],"names":["FunctionBrowser","functionName","data","isLoading","error","useFunctionDefinition","theme","useThemeStore","s","jsx","jsxs","Editor"],"mappings":"8FAIO,SAASA,EAAgB,CAAE,aAAAC,GAA0C,CAC1E,KAAM,CAAE,KAAAC,EAAM,UAAAC,EAAW,MAAAC,CAAA,EAAUC,EAAsBJ,CAAY,EAC/DK,EAAQC,EAAeC,GAAMA,EAAE,KAAK,EAE1C,OAAIL,EACKM,EAAAA,IAAC,MAAA,CAAI,UAAU,4BAA4B,SAAA,aAAU,EAG1DL,GAAS,CAACF,QAET,MAAA,CAAI,UAAU,0BACZ,SAAAE,GAAO,SAAW,qBACrB,EAKFM,EAAAA,KAAC,MAAA,CAAI,UAAU,uCAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0IACb,SAAA,CAAAA,EAAAA,KAAC,OAAA,CAAK,UAAU,uDACb,SAAA,CAAAR,EAAK,OAAO,IAAEA,EAAK,IAAA,EACtB,EACAO,EAAAA,IAAC,OAAA,CAAK,UAAU,oHACb,WAAK,KACR,EACAA,EAAAA,IAAC,OAAA,CAAK,UAAU,oHACb,WAAK,SACR,EACAA,EAAAA,IAAC,OAAA,CAAK,UAAU,oHACb,WAAK,WACR,EACCP,EAAK,aACJQ,OAAC,OAAA,CAAK,UAAU,2CAA2C,SAAA,CAAA,WAChDR,EAAK,WAAA,CAAA,CAChB,CAAA,EAEJ,EAGAO,EAAAA,IAAC,MAAA,CAAI,UAAU,iBACb,SAAAA,EAAAA,IAACE,EAAA,CACC,SAAS,QACT,MAAOT,EAAK,WACZ,MAAOI,IAAU,OAAS,UAAY,QACtC,QAAS,CACP,SAAU,GACV,QAAS,CAAE,QAAS,EAAA,EACpB,YAAa,KACb,qBAAsB,GACtB,SAAU,GACV,QAAS,CAAE,IAAK,CAAA,CAAE,CACpB,CAAA,CACF,CACF,CAAA,EACF,CAEJ"}