// This file is auto-generated by @hey-api/openapi-ts

import type { Client, Options as Options2, TDataShape } from './client';
import { client } from './client.gen';
import type { AiGenerateData, AiGenerateResponses, AnalyzeQueryData, AnalyzeQueryResponses, CancelQueryData, CancelQueryResponses, ClearHistoryData, ClearHistoryResponses, ConnectData, ConnectErrors, ConnectResponses, CreateSavedQueryData, CreateSavedQueryResponses, DeleteSavedQueryData, DeleteSavedQueryResponses, DisconnectData, DisconnectResponses, ExplainQueryData, ExplainQueryResponses, ExportQueryData, ExportQueryErrors, ExportQueryResponses, GetActivityData, GetActivityResponses, GetAppInfoData, GetAppInfoResponses, GetConnectionInfoData, GetConnectionInfoResponses, GetFunctionDefinitionData, GetFunctionDefinitionResponses, GetSavedQueryData, GetSavedQueryResponses, GetServerSettingsData, GetServerSettingsResponses, GetSettingsData, GetSettingsResponses, GetTableColumnsData, GetTableColumnsResponses, GetTableConstraintsData, GetTableConstraintsResponses, GetTableIndexesData, GetTableIndexesResponses, GetTableInfoData, GetTableInfoResponses, GetTableRowsData, GetTableRowsResponses, GetTablesStatsData, GetTablesStatsResponses, ListDatabasesData, ListDatabasesResponses, ListHistoryData, ListHistoryResponses, ListObjectsData, ListObjectsResponses, ListSavedQueriesData, ListSavedQueriesResponses, ListSchemasData, ListSchemasResponses, RunQueryData, RunQueryResponses, SwitchDatabaseData, SwitchDatabaseResponses, UpdateSavedQueryData, UpdateSavedQueryResponses, UpdateSettingsData, UpdateSettingsResponses } from './types.gen';

export type Options<TData extends TDataShape = TDataShape, ThrowOnError extends boolean = boolean> = Options2<TData, ThrowOnError> & {
    /**
     * You can provide a client instance returned by `createClient()` instead of
     * individual options. This might be also useful if you want to implement a
     * custom client.
     */
    client?: Client;
    /**
     * You can pass arbitrary values through the `meta` object. This can be
     * used to access values that aren't defined as part of the SDK function.
     */
    meta?: Record<string, unknown>;
};

/**
 * Connect to a PostgreSQL database
 */
export const connect = <ThrowOnError extends boolean = false>(options: Options<ConnectData, ThrowOnError>) => (options.client ?? client).post<ConnectResponses, ConnectErrors, ThrowOnError>({
    url: '/api/connect',
    ...options,
    headers: {
        'Content-Type': 'application/json',
        ...options.headers
    }
});

/**
 * Disconnect from the database
 */
export const disconnect = <ThrowOnError extends boolean = false>(options?: Options<DisconnectData, ThrowOnError>) => (options?.client ?? client).post<DisconnectResponses, unknown, ThrowOnError>({ url: '/api/disconnect', ...options });

/**
 * Switch to a different database
 */
export const switchDatabase = <ThrowOnError extends boolean = false>(options: Options<SwitchDatabaseData, ThrowOnError>) => (options.client ?? client).post<SwitchDatabaseResponses, unknown, ThrowOnError>({
    url: '/api/switchdb',
    ...options,
    headers: {
        'Content-Type': 'application/json',
        ...options.headers
    }
});

/**
 * Get current connection info
 */
export const getConnectionInfo = <ThrowOnError extends boolean = false>(options?: Options<GetConnectionInfoData, ThrowOnError>) => (options?.client ?? client).get<GetConnectionInfoResponses, unknown, ThrowOnError>({ url: '/api/connection', ...options });

/**
 * List all databases on the server
 */
export const listDatabases = <ThrowOnError extends boolean = false>(options?: Options<ListDatabasesData, ThrowOnError>) => (options?.client ?? client).get<ListDatabasesResponses, unknown, ThrowOnError>({ url: '/api/databases', ...options });

/**
 * Get app version and feature flags
 */
export const getAppInfo = <ThrowOnError extends boolean = false>(options?: Options<GetAppInfoData, ThrowOnError>) => (options?.client ?? client).get<GetAppInfoResponses, unknown, ThrowOnError>({ url: '/api/info', ...options });

/**
 * List database schemas
 */
export const listSchemas = <ThrowOnError extends boolean = false>(options?: Options<ListSchemasData, ThrowOnError>) => (options?.client ?? client).get<ListSchemasResponses, unknown, ThrowOnError>({ url: '/api/schemas', ...options });

/**
 * All objects grouped by schema and type
 */
export const listObjects = <ThrowOnError extends boolean = false>(options?: Options<ListObjectsData, ThrowOnError>) => (options?.client ?? client).get<ListObjectsResponses, unknown, ThrowOnError>({ url: '/api/objects', ...options });

/**
 * Get table column definitions
 */
export const getTableColumns = <ThrowOnError extends boolean = false>(options: Options<GetTableColumnsData, ThrowOnError>) => (options.client ?? client).get<GetTableColumnsResponses, unknown, ThrowOnError>({ url: '/api/tables/{table}', ...options });

/**
 * Paginated table data
 */
export const getTableRows = <ThrowOnError extends boolean = false>(options: Options<GetTableRowsData, ThrowOnError>) => (options.client ?? client).get<GetTableRowsResponses, unknown, ThrowOnError>({ url: '/api/tables/{table}/rows', ...options });

/**
 * Table size and row estimates
 */
export const getTableInfo = <ThrowOnError extends boolean = false>(options: Options<GetTableInfoData, ThrowOnError>) => (options.client ?? client).get<GetTableInfoResponses, unknown, ThrowOnError>({ url: '/api/tables/{table}/info', ...options });

/**
 * Table indexes
 */
export const getTableIndexes = <ThrowOnError extends boolean = false>(options: Options<GetTableIndexesData, ThrowOnError>) => (options.client ?? client).get<GetTableIndexesResponses, unknown, ThrowOnError>({ url: '/api/tables/{table}/indexes', ...options });

/**
 * Table constraints
 */
export const getTableConstraints = <ThrowOnError extends boolean = false>(options: Options<GetTableConstraintsData, ThrowOnError>) => (options.client ?? client).get<GetTableConstraintsResponses, unknown, ThrowOnError>({ url: '/api/tables/{table}/constraints', ...options });

/**
 * Get function or procedure source code
 */
export const getFunctionDefinition = <ThrowOnError extends boolean = false>(options: Options<GetFunctionDefinitionData, ThrowOnError>) => (options.client ?? client).get<GetFunctionDefinitionResponses, unknown, ThrowOnError>({ url: '/api/functions/{function}', ...options });

/**
 * All tables size and row stats
 */
export const getTablesStats = <ThrowOnError extends boolean = false>(options?: Options<GetTablesStatsData, ThrowOnError>) => (options?.client ?? client).get<GetTablesStatsResponses, unknown, ThrowOnError>({ url: '/api/tables_stats', ...options });

/**
 * Running queries from pg_stat_activity
 */
export const getActivity = <ThrowOnError extends boolean = false>(options?: Options<GetActivityData, ThrowOnError>) => (options?.client ?? client).get<GetActivityResponses, unknown, ThrowOnError>({ url: '/api/activity', ...options });

/**
 * PostgreSQL server settings
 */
export const getServerSettings = <ThrowOnError extends boolean = false>(options?: Options<GetServerSettingsData, ThrowOnError>) => (options?.client ?? client).get<GetServerSettingsResponses, unknown, ThrowOnError>({ url: '/api/server_settings', ...options });

/**
 * Execute SQL query
 */
export const runQuery = <ThrowOnError extends boolean = false>(options: Options<RunQueryData, ThrowOnError>) => (options.client ?? client).post<RunQueryResponses, unknown, ThrowOnError>({
    url: '/api/query',
    ...options,
    headers: {
        'Content-Type': 'application/json',
        ...options.headers
    }
});

/**
 * EXPLAIN a SQL query
 */
export const explainQuery = <ThrowOnError extends boolean = false>(options: Options<ExplainQueryData, ThrowOnError>) => (options.client ?? client).post<ExplainQueryResponses, unknown, ThrowOnError>({
    url: '/api/explain',
    ...options,
    headers: {
        'Content-Type': 'application/json',
        ...options.headers
    }
});

/**
 * EXPLAIN ANALYZE a SQL query
 */
export const analyzeQuery = <ThrowOnError extends boolean = false>(options: Options<AnalyzeQueryData, ThrowOnError>) => (options.client ?? client).post<AnalyzeQueryResponses, unknown, ThrowOnError>({
    url: '/api/analyze',
    ...options,
    headers: {
        'Content-Type': 'application/json',
        ...options.headers
    }
});

/**
 * Cancel a running query
 */
export const cancelQuery = <ThrowOnError extends boolean = false>(options: Options<CancelQueryData, ThrowOnError>) => (options.client ?? client).post<CancelQueryResponses, unknown, ThrowOnError>({
    url: '/api/query/cancel',
    ...options,
    headers: {
        'Content-Type': 'application/json',
        ...options.headers
    }
});

/**
 * Export query results as CSV or JSON
 */
export const exportQuery = <ThrowOnError extends boolean = false>(options: Options<ExportQueryData, ThrowOnError>) => (options.client ?? client).post<ExportQueryResponses, ExportQueryErrors, ThrowOnError>({
    url: '/api/export',
    ...options,
    headers: {
        'Content-Type': 'application/json',
        ...options.headers
    }
});

/**
 * List saved queries
 */
export const listSavedQueries = <ThrowOnError extends boolean = false>(options?: Options<ListSavedQueriesData, ThrowOnError>) => (options?.client ?? client).get<ListSavedQueriesResponses, unknown, ThrowOnError>({ url: '/api/saved-queries', ...options });

/**
 * Create a saved query
 */
export const createSavedQuery = <ThrowOnError extends boolean = false>(options: Options<CreateSavedQueryData, ThrowOnError>) => (options.client ?? client).post<CreateSavedQueryResponses, unknown, ThrowOnError>({
    url: '/api/saved-queries',
    ...options,
    headers: {
        'Content-Type': 'application/json',
        ...options.headers
    }
});

/**
 * Delete a saved query
 */
export const deleteSavedQuery = <ThrowOnError extends boolean = false>(options: Options<DeleteSavedQueryData, ThrowOnError>) => (options.client ?? client).delete<DeleteSavedQueryResponses, unknown, ThrowOnError>({ url: '/api/saved-queries/{id}', ...options });

/**
 * Get a saved query by ID
 */
export const getSavedQuery = <ThrowOnError extends boolean = false>(options: Options<GetSavedQueryData, ThrowOnError>) => (options.client ?? client).get<GetSavedQueryResponses, unknown, ThrowOnError>({ url: '/api/saved-queries/{id}', ...options });

/**
 * Update a saved query
 */
export const updateSavedQuery = <ThrowOnError extends boolean = false>(options: Options<UpdateSavedQueryData, ThrowOnError>) => (options.client ?? client).put<UpdateSavedQueryResponses, unknown, ThrowOnError>({
    url: '/api/saved-queries/{id}',
    ...options,
    headers: {
        'Content-Type': 'application/json',
        ...options.headers
    }
});

/**
 * Clear all query history
 */
export const clearHistory = <ThrowOnError extends boolean = false>(options?: Options<ClearHistoryData, ThrowOnError>) => (options?.client ?? client).delete<ClearHistoryResponses, unknown, ThrowOnError>({ url: '/api/history', ...options });

/**
 * List query history
 */
export const listHistory = <ThrowOnError extends boolean = false>(options?: Options<ListHistoryData, ThrowOnError>) => (options?.client ?? client).get<ListHistoryResponses, unknown, ThrowOnError>({ url: '/api/history', ...options });

/**
 * Get all settings
 */
export const getSettings = <ThrowOnError extends boolean = false>(options?: Options<GetSettingsData, ThrowOnError>) => (options?.client ?? client).get<GetSettingsResponses, unknown, ThrowOnError>({ url: '/api/settings', ...options });

/**
 * Update settings
 */
export const updateSettings = <ThrowOnError extends boolean = false>(options: Options<UpdateSettingsData, ThrowOnError>) => (options.client ?? client).put<UpdateSettingsResponses, unknown, ThrowOnError>({
    url: '/api/settings',
    ...options,
    headers: {
        'Content-Type': 'application/json',
        ...options.headers
    }
});

/**
 * Generate SQL from natural language
 */
export const aiGenerate = <ThrowOnError extends boolean = false>(options: Options<AiGenerateData, ThrowOnError>) => (options.client ?? client).post<AiGenerateResponses, unknown, ThrowOnError>({
    url: '/api/ai/generate',
    ...options,
    headers: {
        'Content-Type': 'application/json',
        ...options.headers
    }
});
