// This file is auto-generated by @hey-api/openapi-ts

export type ClientOptions = {
    baseUrl: `${string}://${string}` | (string & {});
};

export type ErrorResponse = {
    error: string;
};

export type SuccessResponse = {
    success?: boolean;
};

export type ConnectRequest = {
    url: string;
};

export type SwitchDbRequest = {
    database: string;
};

export type ConnectionInfo = {
    host: string;
    port: number;
    user: string;
    database: string;
    version: string;
    connected?: boolean;
};

export type AppInfo = {
    version?: string;
};

export type SchemaObject = {
    name: string;
    schema: string;
    type: string;
    comment?: string;
};

export type SchemaGroup = {
    tables: Array<SchemaObject>;
    views: Array<SchemaObject>;
    materialized_views: Array<SchemaObject>;
    functions: Array<SchemaObject>;
    sequences: Array<SchemaObject>;
    types: Array<SchemaObject>;
};

export type Column = {
    name: string;
    type: string;
    nullable: boolean;
    default_value?: string | null;
    comment?: string;
    position: number;
    is_primary_key: boolean;
};

export type TableInfo = {
    total_size: string;
    table_size: string;
    index_size: string;
    row_estimate: number;
};

export type TableIndex = {
    name: string;
    definition: string;
    is_unique: boolean;
    is_primary: boolean;
    columns?: Array<string>;
};

export type TableConstraint = {
    name: string;
    type: string;
    definition: string;
    columns?: Array<string>;
};

export type CellValue = string | null;

export type QueryResult = {
    columns: Array<string>;
    column_types: Array<string>;
    rows: Array<Array<CellValue>>;
    row_count: number;
    duration_ms: number;
    error?: string;
};

export type TableRowsResult = {
    columns: Array<string>;
    column_types: Array<string>;
    rows: Array<Array<CellValue>>;
    total_count: number;
    page: number;
    page_size: number;
};

export type QueryRequest = {
    query: string;
    tab_id: string;
};

export type CancelRequest = {
    tab_id: string;
};

export type ExportRequest = {
    query: string;
    format: 'csv' | 'json';
};

export type SavedQuery = {
    id: string;
    title: string;
    description: string;
    sql: string;
    database: string;
    tags: string;
    shared: boolean;
    created_at: string;
    updated_at: string;
};

export type SavedQueryInput = {
    title: string;
    description?: string;
    sql: string;
    database?: string;
    tags?: string;
};

export type HistoryEntry = {
    id: number;
    sql: string;
    database: string;
    duration_ms: number;
    row_count: number;
    error: string;
    executed_at: string;
};

export type HistoryResponse = {
    entries: Array<HistoryEntry>;
    total: number;
};

export type Activity = {
    pid: number;
    database: string;
    user: string;
    application: string;
    client_addr: string;
    state: string;
    query: string;
    duration: string;
    wait_event: string;
    wait_event_type: string;
};

export type FunctionDefinition = {
    name: string;
    schema: string;
    definition: string;
    language: string;
    arguments: string;
    return_type: string;
    volatility: string;
    kind: string;
};

export type AiGenerateRequest = {
    prompt: string;
    database: string;
    messages?: Array<AiMessage>;
};

export type AiGenerateResponse = {
    sql: string;
    explanation: string;
};

export type AiMessage = {
    role: string;
    content: string;
};

export type AiSuggestionsResponse = {
    suggestions: Array<string>;
};

export type AiTabNameRequest = {
    sql: string;
};

export type AiTabNameResponse = {
    name: string;
};

export type ConnectData = {
    body: ConnectRequest;
    path?: never;
    query?: never;
    url: '/api/connect';
};

export type ConnectErrors = {
    /**
     * Connection failed
     */
    400: ErrorResponse;
};

export type ConnectError = ConnectErrors[keyof ConnectErrors];

export type ConnectResponses = {
    /**
     * Connection info
     */
    200: ConnectionInfo;
};

export type ConnectResponse = ConnectResponses[keyof ConnectResponses];

export type DisconnectData = {
    body?: never;
    path?: never;
    query?: never;
    url: '/api/disconnect';
};

export type DisconnectResponses = {
    /**
     * Success
     */
    200: SuccessResponse;
};

export type DisconnectResponse = DisconnectResponses[keyof DisconnectResponses];

export type SwitchDatabaseData = {
    body: SwitchDbRequest;
    path?: never;
    query?: never;
    url: '/api/switchdb';
};

export type SwitchDatabaseResponses = {
    /**
     * Connection info for new database
     */
    200: ConnectionInfo;
};

export type SwitchDatabaseResponse = SwitchDatabaseResponses[keyof SwitchDatabaseResponses];

export type GetConnectionInfoData = {
    body?: never;
    path?: never;
    query?: never;
    url: '/api/connection';
};

export type GetConnectionInfoResponses = {
    /**
     * Connection info or disconnected state
     */
    200: ConnectionInfo;
};

export type GetConnectionInfoResponse = GetConnectionInfoResponses[keyof GetConnectionInfoResponses];

export type ListDatabasesData = {
    body?: never;
    path?: never;
    query?: never;
    url: '/api/databases';
};

export type ListDatabasesResponses = {
    /**
     * List of database names
     */
    200: Array<string>;
};

export type ListDatabasesResponse = ListDatabasesResponses[keyof ListDatabasesResponses];

export type GetAppInfoData = {
    body?: never;
    path?: never;
    query?: never;
    url: '/api/info';
};

export type GetAppInfoResponses = {
    /**
     * App info
     */
    200: AppInfo;
};

export type GetAppInfoResponse = GetAppInfoResponses[keyof GetAppInfoResponses];

export type ListSchemasData = {
    body?: never;
    path?: never;
    query?: never;
    url: '/api/schemas';
};

export type ListSchemasResponses = {
    /**
     * List of schema names
     */
    200: Array<string>;
};

export type ListSchemasResponse = ListSchemasResponses[keyof ListSchemasResponses];

export type ListObjectsData = {
    body?: never;
    path?: never;
    query?: never;
    url: '/api/objects';
};

export type ListObjectsResponses = {
    /**
     * Schema objects map
     */
    200: {
        [key: string]: SchemaGroup;
    };
};

export type ListObjectsResponse = ListObjectsResponses[keyof ListObjectsResponses];

export type GetTableColumnsData = {
    body?: never;
    path: {
        table: string;
    };
    query?: never;
    url: '/api/tables/{table}';
};

export type GetTableColumnsResponses = {
    /**
     * Column list
     */
    200: Array<Column>;
};

export type GetTableColumnsResponse = GetTableColumnsResponses[keyof GetTableColumnsResponses];

export type GetTableRowsData = {
    body?: never;
    path: {
        table: string;
    };
    query?: {
        limit?: number;
        offset?: number;
        sort_column?: string;
        sort_order?: 'ASC' | 'DESC';
    };
    url: '/api/tables/{table}/rows';
};

export type GetTableRowsResponses = {
    /**
     * Paginated rows
     */
    200: TableRowsResult;
};

export type GetTableRowsResponse = GetTableRowsResponses[keyof GetTableRowsResponses];

export type GetTableInfoData = {
    body?: never;
    path: {
        table: string;
    };
    query?: never;
    url: '/api/tables/{table}/info';
};

export type GetTableInfoResponses = {
    /**
     * Table info
     */
    200: TableInfo;
};

export type GetTableInfoResponse = GetTableInfoResponses[keyof GetTableInfoResponses];

export type GetTableIndexesData = {
    body?: never;
    path: {
        table: string;
    };
    query?: never;
    url: '/api/tables/{table}/indexes';
};

export type GetTableIndexesResponses = {
    /**
     * Index list
     */
    200: Array<TableIndex>;
};

export type GetTableIndexesResponse = GetTableIndexesResponses[keyof GetTableIndexesResponses];

export type GetTableConstraintsData = {
    body?: never;
    path: {
        table: string;
    };
    query?: never;
    url: '/api/tables/{table}/constraints';
};

export type GetTableConstraintsResponses = {
    /**
     * Constraint list
     */
    200: Array<TableConstraint>;
};

export type GetTableConstraintsResponse = GetTableConstraintsResponses[keyof GetTableConstraintsResponses];

export type GetFunctionDefinitionData = {
    body?: never;
    path: {
        function: string;
    };
    query?: never;
    url: '/api/functions/{function}';
};

export type GetFunctionDefinitionResponses = {
    /**
     * Function definition
     */
    200: FunctionDefinition;
};

export type GetFunctionDefinitionResponse = GetFunctionDefinitionResponses[keyof GetFunctionDefinitionResponses];

export type GetTablesStatsData = {
    body?: never;
    path?: never;
    query?: never;
    url: '/api/tables_stats';
};

export type GetTablesStatsResponses = {
    /**
     * Query result with table stats
     */
    200: QueryResult;
};

export type GetTablesStatsResponse = GetTablesStatsResponses[keyof GetTablesStatsResponses];

export type GetActivityData = {
    body?: never;
    path?: never;
    query?: never;
    url: '/api/activity';
};

export type GetActivityResponses = {
    /**
     * Activity list
     */
    200: Array<Activity>;
};

export type GetActivityResponse = GetActivityResponses[keyof GetActivityResponses];

export type GetServerSettingsData = {
    body?: never;
    path?: never;
    query?: never;
    url: '/api/server_settings';
};

export type GetServerSettingsResponses = {
    /**
     * Server settings as query result
     */
    200: QueryResult;
};

export type GetServerSettingsResponse = GetServerSettingsResponses[keyof GetServerSettingsResponses];

export type RunQueryData = {
    body: QueryRequest;
    path?: never;
    query?: never;
    url: '/api/query';
};

export type RunQueryResponses = {
    /**
     * Query result
     */
    200: QueryResult;
};

export type RunQueryResponse = RunQueryResponses[keyof RunQueryResponses];

export type ExplainQueryData = {
    body: QueryRequest;
    path?: never;
    query?: never;
    url: '/api/explain';
};

export type ExplainQueryResponses = {
    /**
     * Explain result
     */
    200: QueryResult;
};

export type ExplainQueryResponse = ExplainQueryResponses[keyof ExplainQueryResponses];

export type AnalyzeQueryData = {
    body: QueryRequest;
    path?: never;
    query?: never;
    url: '/api/analyze';
};

export type AnalyzeQueryResponses = {
    /**
     * Analyze result
     */
    200: QueryResult;
};

export type AnalyzeQueryResponse = AnalyzeQueryResponses[keyof AnalyzeQueryResponses];

export type CancelQueryData = {
    body: CancelRequest;
    path?: never;
    query?: never;
    url: '/api/query/cancel';
};

export type CancelQueryResponses = {
    /**
     * Success
     */
    200: SuccessResponse;
};

export type CancelQueryResponse = CancelQueryResponses[keyof CancelQueryResponses];

export type ExportQueryData = {
    body: ExportRequest;
    path?: never;
    query?: never;
    url: '/api/export';
};

export type ExportQueryErrors = {
    /**
     * Bad request
     */
    400: ErrorResponse;
    /**
     * Query execution failed
     */
    500: ErrorResponse;
};

export type ExportQueryError = ExportQueryErrors[keyof ExportQueryErrors];

export type ExportQueryResponses = {
    /**
     * Exported data as CSV or JSON
     */
    200: {
        [key: string]: unknown;
    };
};

export type ExportQueryResponse = ExportQueryResponses[keyof ExportQueryResponses];

export type ListSavedQueriesData = {
    body?: never;
    path?: never;
    query?: {
        database?: string;
    };
    url: '/api/saved-queries';
};

export type ListSavedQueriesResponses = {
    /**
     * Saved query list
     */
    200: Array<SavedQuery>;
};

export type ListSavedQueriesResponse = ListSavedQueriesResponses[keyof ListSavedQueriesResponses];

export type CreateSavedQueryData = {
    body: SavedQueryInput;
    path?: never;
    query?: never;
    url: '/api/saved-queries';
};

export type CreateSavedQueryResponses = {
    /**
     * Created saved query
     */
    201: SavedQuery;
};

export type CreateSavedQueryResponse = CreateSavedQueryResponses[keyof CreateSavedQueryResponses];

export type DeleteSavedQueryData = {
    body?: never;
    path: {
        id: string;
    };
    query?: never;
    url: '/api/saved-queries/{id}';
};

export type DeleteSavedQueryResponses = {
    /**
     * Success
     */
    200: SuccessResponse;
};

export type DeleteSavedQueryResponse = DeleteSavedQueryResponses[keyof DeleteSavedQueryResponses];

export type GetSavedQueryData = {
    body?: never;
    path: {
        id: string;
    };
    query?: never;
    url: '/api/saved-queries/{id}';
};

export type GetSavedQueryResponses = {
    /**
     * Saved query
     */
    200: SavedQuery;
};

export type GetSavedQueryResponse = GetSavedQueryResponses[keyof GetSavedQueryResponses];

export type UpdateSavedQueryData = {
    body: SavedQueryInput;
    path: {
        id: string;
    };
    query?: never;
    url: '/api/saved-queries/{id}';
};

export type UpdateSavedQueryResponses = {
    /**
     * Success
     */
    200: SuccessResponse;
};

export type UpdateSavedQueryResponse = UpdateSavedQueryResponses[keyof UpdateSavedQueryResponses];

export type ClearHistoryData = {
    body?: never;
    path?: never;
    query?: never;
    url: '/api/history';
};

export type ClearHistoryResponses = {
    /**
     * Success
     */
    200: SuccessResponse;
};

export type ClearHistoryResponse = ClearHistoryResponses[keyof ClearHistoryResponses];

export type ListHistoryData = {
    body?: never;
    path?: never;
    query?: {
        limit?: number;
        offset?: number;
    };
    url: '/api/history';
};

export type ListHistoryResponses = {
    /**
     * History entries with total count
     */
    200: HistoryResponse;
};

export type ListHistoryResponse = ListHistoryResponses[keyof ListHistoryResponses];

export type GetSettingsData = {
    body?: never;
    path?: never;
    query?: never;
    url: '/api/settings';
};

export type GetSettingsResponses = {
    /**
     * Settings map
     */
    200: {
        [key: string]: string;
    };
};

export type GetSettingsResponse = GetSettingsResponses[keyof GetSettingsResponses];

export type UpdateSettingsData = {
    body: {
        [key: string]: string;
    };
    path?: never;
    query?: never;
    url: '/api/settings';
};

export type UpdateSettingsResponses = {
    /**
     * Success
     */
    200: SuccessResponse;
};

export type UpdateSettingsResponse = UpdateSettingsResponses[keyof UpdateSettingsResponses];

export type AiGenerateData = {
    body: AiGenerateRequest;
    path?: never;
    query?: never;
    url: '/api/ai/generate';
};

export type AiGenerateResponses = {
    /**
     * Generated SQL
     */
    200: AiGenerateResponse;
};

export type AiGenerateResponse2 = AiGenerateResponses[keyof AiGenerateResponses];

export type AiSuggestionsData = {
    body?: never;
    path?: never;
    query?: never;
    url: '/api/ai/suggestions';
};

export type AiSuggestionsResponses = {
    /**
     * Suggested prompts
     */
    200: AiSuggestionsResponse;
};

export type AiSuggestionsResponse2 = AiSuggestionsResponses[keyof AiSuggestionsResponses];

export type AiTabNameData = {
    body: AiTabNameRequest;
    path?: never;
    query?: never;
    url: '/api/ai/tab-name';
};

export type AiTabNameResponses = {
    /**
     * Generated tab name
     */
    200: AiTabNameResponse;
};

export type AiTabNameResponse2 = AiTabNameResponses[keyof AiTabNameResponses];
